ifndef _IFDEF_
define _IFDEF_

include winapifamily.inc

if WINAPI_FAMILY_PARTITION(WINAPI_PARTITION_DESKTOP)

NET_IF_OBJECT_ID	typedef DWORD
PNET_IF_OBJECT_ID	typedef ptr DWORD


NET_IF_ADMIN_STATUS	typedef SDWORD
PNET_IF_ADMIN_STATUS	typedef ptr NET_IF_ADMIN_STATUS

NET_IF_ADMIN_STATUS_UP	equ 1
NET_IF_ADMIN_STATUS_DOWN equ 2
NET_IF_ADMIN_STATUS_TESTING equ 3

NET_IF_OPER_STATUS	typedef SDWORD
PNET_IF_OPER_STATUS	typedef ptr NET_IF_OPER_STATUS

NET_IF_OPER_STATUS_UP	equ 1
NET_IF_OPER_STATUS_DOWN equ 2
NET_IF_OPER_STATUS_TESTING equ 3
NET_IF_OPER_STATUS_UNKNOWN equ 4
NET_IF_OPER_STATUS_DORMANT equ 5
NET_IF_OPER_STATUS_NOT_PRESENT equ 6
NET_IF_OPER_STATUS_LOWER_LAYER_DOWN equ 7

NET_IF_OPER_STATUS_DOWN_NOT_AUTHENTICATED equ 0x00000001
NET_IF_OPER_STATUS_DOWN_NOT_MEDIA_CONNECTED equ 0x00000002
NET_IF_OPER_STATUS_DORMANT_PAUSED equ 0x00000004
NET_IF_OPER_STATUS_DORMANT_LOW_POWER equ 0x00000008

NET_IF_COMPARTMENT_ID	typedef DWORD
PNET_IF_COMPARTMENT_ID	typedef ptr DWORD

NET_IF_COMPARTMENT_ID_UNSPECIFIED equ 0
NET_IF_COMPARTMENT_ID_PRIMARY equ 1
NET_IF_COMPARTMENT_ID_ALL equ (-1)

NET_IF_OID_IF_ALIAS	equ 0x00000001
NET_IF_OID_COMPARTMENT_ID equ 0x00000002
NET_IF_OID_NETWORK_GUID equ 0x00000003
NET_IF_OID_IF_ENTRY	equ 0x00000004

NET_IF_NETWORK_GUID	typedef GUID
PNET_IF_NETWORK_GUID	typedef ptr GUID

;NET_SET_UNSPECIFIED_NETWORK_GUID(_pNetworkGuid)
;NET_IS_UNSPECIFIED_NETWORK_GUID(_NetworkGuidValue)

NET_SITEID_UNSPECIFIED	equ (0)
NET_SITEID_MAXUSER	equ (0x07ffffff)
NET_SITEID_MAXSYSTEM	equ (0x0fffffff)
if (NET_SITEID_MAXUSER GE NET_SITEID_MAXSYSTEM)
    .err<NET_SITEID_MAXUSER GE NET_SITEID_MAXSYSTEM>
endif

NET_IF_RCV_ADDRESS_TYPE typedef	 SDWORD
PNET_IF_RCV_ADDRESS_TYPE typedef ptr NET_IF_RCV_ADDRESS_TYPE

NET_IF_RCV_ADDRESS_TYPE_OTHER equ 1
NET_IF_RCV_ADDRESS_TYPE_VOLATILE equ 2
NET_IF_RCV_ADDRESS_TYPE_NON_VOLATILE equ 3


NET_IF_RCV_ADDRESS_LH	STRUC
ifRcvAddressType	NET_IF_RCV_ADDRESS_TYPE ?
ifRcvAddressLength	dw ?
ifRcvAddressOffset	dw ?
NET_IF_RCV_ADDRESS_LH	ENDS
PNET_IF_RCV_ADDRESS_LH	typedef ptr NET_IF_RCV_ADDRESS_LH

NET_IF_ALIAS_LH		STRUC
ifAliasLength		dw ?
ifAliasOffset		dw ?
NET_IF_ALIAS_LH		ENDS
PNET_IF_ALIAS_LH	typedef ptr NET_IF_ALIAS_LH

NET_LUID_LH		UNION
Value			ULONG64 ?
NET_LUID_LH		ENDS
PNET_LUID_LH		typedef ptr NET_LUID_LH


if (NTDDI_VERSION GE NTDDI_VISTA)
NET_IF_RCV_ADDRESS	typedef NET_IF_RCV_ADDRESS_LH
PNET_IF_RCV_ADDRESS	typedef ptr NET_IF_RCV_ADDRESS
NET_IF_ALIAS		typedef NET_IF_ALIAS_LH
PNET_IF_ALIAS		typedef ptr NET_IF_ALIAS
endif

NET_LUID		typedef NET_LUID_LH
PNET_LUID		typedef ptr NET_LUID
IF_LUID			typedef NET_LUID
PIF_LUID		typedef ptr NET_LUID
NET_IFINDEX		typedef DWORD
PNET_IFINDEX		typedef ptr DWORD
NET_IFTYPE		typedef WORD
PNET_IFTYPE		typedef ptr WORD

NET_IFINDEX_UNSPECIFIED equ (0)
NET_IFLUID_UNSPECIFIED	equ (0)

NIIF_HARDWARE_INTERFACE equ 0x00000001
NIIF_FILTER_INTERFACE	equ 0x00000002
NIIF_NDIS_RESERVED1	equ 0x00000004
NIIF_NDIS_RESERVED2	equ 0x00000008
NIIF_NDIS_RESERVED3	equ 0x00000010
NIIF_NDIS_WDM_INTERFACE equ 0x00000020
NIIF_NDIS_ENDPOINT_INTERFACE equ 0x00000040
NIIF_NDIS_ISCSI_INTERFACE equ 0x00000080
NIIF_NDIS_RESERVED4	equ 0x00000100

NIIF_WAN_TUNNEL_TYPE_UNKNOWN equ (-1)

NET_IF_ACCESS_TYPE	typedef SDWORD
NET_IF_ACCESS_LOOPBACK	equ 1
NET_IF_ACCESS_BROADCAST equ 2
NET_IF_ACCESS_POINT_TO_POINT equ 3
NET_IF_ACCESS_POINT_TO_MULTI_POINT equ 4
NET_IF_ACCESS_MAXIMUM	equ 5

NET_IF_DIRECTION_TYPE	typedef SDWORD
NET_IF_DIRECTION_SENDRECEIVE equ 0
NET_IF_DIRECTION_SENDONLY equ 1
NET_IF_DIRECTION_RECEIVEONLY equ 2
NET_IF_DIRECTION_MAXIMUM equ 3

NET_IF_CONNECTION_TYPE	typedef SDWORD
NET_IF_CONNECTION_DEDICATED equ 1
NET_IF_CONNECTION_PASSIVE equ 2
NET_IF_CONNECTION_DEMAND equ 3
NET_IF_CONNECTION_MAXIMUM equ 4

NET_IF_MEDIA_CONNECT_STATE typedef SDWORD
MediaConnectStateUnknown equ 0
MediaConnectStateConnected equ 1
MediaConnectStateDisconnected equ 2

NET_IF_LINK_SPEED_UNKNOWN equ (-1)

NET_IF_MEDIA_DUPLEX_STATE typedef SDWORD
MediaDuplexStateUnknown equ 0
MediaDuplexStateHalf	equ 1
MediaDuplexStateFull	equ 2

NIIF_BUS_NUMBER_UNKNOWN equ (-1)
NIIF_SLOT_NUMBER_UNKNOWN equ (-1)
NIIF_FUNCTION_NUMBER_UNKNOWN equ (-1)

NET_PHYSICAL_LOCATION_LH STRUC
BusNumber		ULONG ?
SlotNumber		ULONG ?
FunctionNumber		ULONG ?
NET_PHYSICAL_LOCATION_LH ENDS
PNET_PHYSICAL_LOCATION_LH typedef ptr NET_PHYSICAL_LOCATION_LH

IF_MAX_STRING_SIZE	equ 256

IF_COUNTED_STRING_LH	STRUC
Length			dw ?
String			WCHAR IF_MAX_STRING_SIZE + 1 dup(?)
IF_COUNTED_STRING_LH	ENDS
PIF_COUNTED_STRING_LH	typedef ptr IF_COUNTED_STRING_LH

IF_MAX_PHYS_ADDRESS_LENGTH equ 32

IF_PHYSICAL_ADDRESS_LH	STRUC
Length			dw ?
Address			db IF_MAX_PHYS_ADDRESS_LENGTH dup(?)
IF_PHYSICAL_ADDRESS_LH	ENDS
PIF_PHYSICAL_ADDRESS_LH typedef ptr IF_PHYSICAL_ADDRESS_LH

if (NTDDI_VERSION GE NTDDI_VISTA)
NET_PHYSICAL_LOCATION	typedef NET_PHYSICAL_LOCATION_LH
PNET_PHYSICAL_LOCATION	typedef ptr NET_PHYSICAL_LOCATION
IF_COUNTED_STRING	typedef IF_COUNTED_STRING_LH
PIF_COUNTED_STRING	typedef ptr IF_COUNTED_STRING
IF_PHYSICAL_ADDRESS	typedef IF_PHYSICAL_ADDRESS_LH
PIF_PHYSICAL_ADDRESS	typedef ptr IF_PHYSICAL_ADDRESS
endif

IF_INDEX		typedef NET_IFINDEX
PIF_INDEX		typedef ptr NET_IFINDEX
IFI_UNSPECIFIED		equ NET_IFINDEX_UNSPECIFIED

include ipifcons.inc

TUNNEL_TYPE_NONE	equ 0
TUNNEL_TYPE_OTHER	equ 1
TUNNEL_TYPE_DIRECT	equ 2
TUNNEL_TYPE_6TO4	equ 11
TUNNEL_TYPE_ISATAP	equ 13
TUNNEL_TYPE_TEREDO	equ 14
TUNNEL_TYPE_IPHTTPS	equ 15

IF_ADMINISTRATIVE_STATE typedef SDWORD
IF_ADMINISTRATIVE_DISABLED equ 0
IF_ADMINISTRATIVE_ENABLED equ 1
IF_ADMINISTRATIVE_DEMANDDIAL equ 2

IfOperStatusUp		equ 1
IfOperStatusDown	equ 1
IfOperStatusTesting	equ 2
IfOperStatusUnknown	equ 3
IfOperStatusDormant	equ 4
IfOperStatusNotPresent	equ 5
IfOperStatusLowerLayerDown equ 6

NDIS_INTERFACE_INFORMATION STRUC
ifOperStatus		NET_IF_OPER_STATUS ?
ifOperStatusFlags	ULONG ?
MediaConnectState	NET_IF_MEDIA_CONNECT_STATE ?
MediaDuplexState	NET_IF_MEDIA_DUPLEX_STATE ?
ifMtu			ULONG ?
ifPromiscuousMode	BOOLEAN ?
ifDeviceWakeUpEnable	BOOLEAN ?
XmitLinkSpeed		ULONG64 ?
RcvLinkSpeed		ULONG64 ?
ifLastChange		ULONG64 ?
ifCounterDiscontinuityTime ULONG64 ?
ifInUnknownProtos	ULONG64 ?
ifInDiscards		ULONG64 ?
ifInErrors		ULONG64 ?
ifHCInOctets		ULONG64 ?
ifHCInUcastPkts		ULONG64 ?
ifHCInMulticastPkts	ULONG64 ?
ifHCInBroadcastPkts	ULONG64 ?
ifHCOutOctets		ULONG64 ?
ifHCOutUcastPkts	ULONG64 ?
ifHCOutMulticastPkts	ULONG64 ?
ifHCOutBroadcastPkts	ULONG64 ?
ifOutErrors		ULONG64 ?
ifOutDiscards		ULONG64 ?
ifHCInUcastOctets	ULONG64 ?
ifHCInMulticastOctets	ULONG64 ?
ifHCInBroadcastOctets	ULONG64 ?
ifHCOutUcastOctets	ULONG64 ?
ifHCOutMulticastOctets	ULONG64 ?
ifHCOutBroadcastOctets	ULONG64 ?
CompartmentId		NET_IF_COMPARTMENT_ID ?
SupportedStatistics	ULONG ?
NDIS_INTERFACE_INFORMATION ENDS
PNDIS_INTERFACE_INFORMATION typedef ptr NDIS_INTERFACE_INFORMATION

endif ;; WINAPI_FAMILY_PARTITION(WINAPI_PARTITION_DESKTOP)

endif ;; _IFDEF_
